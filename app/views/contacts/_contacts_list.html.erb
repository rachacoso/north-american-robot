<%= form_for Contact.new, remote: true do |f| %>
<table style="width:100%;">
	<thead>
		<tr>
			<th>First Name</th><th>Last Name</th><th>Title</th><th>Email</th><th>Phone</th><th></th>
		</tr>
	</thead>
	<tbody>
		
		<% b_or_d.contacts.each do |contact| %>
			<tr>
				<td><%= contact.firstname.blank? ? "(nameless)" : "#{contact.firstname}".html_safe %></td>
				<td><%= contact.lastname.blank? ? "(nameless)" : "#{contact.lastname}".html_safe %></td>
				<td><%= contact.title.blank? ? "(no title)" : "#{contact.title}".html_safe %></td>
				<td><%= contact.email.blank? ? "(no email)" : "#{contact.email}<br>".html_safe %></td>
				<td><%= contact.phone.blank? ? "(no phone)" : "#{contact.phone}<br>".html_safe %></td>
				<td>
					<% if b_or_d.contacts.count > 1 %>
					<%= link_to 'delete', contact_url(contact), :method => 'delete', :remote => true, data: { :confirm => 'Are you sure you want to delete this contact?'}  %>
					<% end %>
				</td>
			</tr>
		<% end %>

		<tr style="background: #eee;">
			<td><%= f.text_field :firstname, label: false, placeholder: "First", style: "margin-top: 0; margin-bottom: 0;"  %></td>
			<td><%= f.text_field :lastname, label: false, placeholder: "Last", style: "margin-top: 0; margin-bottom: 0;"  %></td>
			<td><%= f.text_field :title, label: false, placeholder: "Title", style: "margin-top: 0; margin-bottom: 0;"  %></td>
			<td><%= f.text_field :email, label: false, placeholder: "Email", style: "margin-top: 0; margin-bottom: 0;"  %></td>
			<td><%= f.text_field :phone, label: false, placeholder: "Phone", style: "margin-top: 0; margin-bottom: 0;"  %></td>
			<td><%= f.submit "Add", class: "tiny radius alert button", style: "margin-top: 0; margin-bottom: 0;" %></td>
		</tr>
	</tbody>
</table>
<% end %>