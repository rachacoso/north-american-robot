@import "foundation/functions";
@import "foundation/components/labels";
@import "global_variables";
@import "mixins";

// CONVERSATIONS

$them-color: scale-color($landing-middle-gray, $lightness: 70%);
$them-border: scale-color($landing-middle-gray, $lightness: 50%);
$you-color: scale-color($landing-blue, $lightness: 90%);
$you-border: scale-color($landing-blue, $lightness: 70%);
$bubble-font-size: 0.8em;

.bubble-container {
  margin-top: 0;
  margin-bottom: rem-calc(40);
  border-top: 0px solid transparent;
}


.bubble-them
{
& p {font-size: $bubble-font-size;}
position: relative;
width: 98%;
// min-height: 100px;
padding: rem-calc(10);
// margin: rem-calc(10);
background: $them-color;
-webkit-border-radius: 10px;
-moz-border-radius: 10px;
border-radius: 10px;
border: 2px solid $them-border;
}

.bubble-them:before 
{
content: '';
position: absolute;
border-style: solid;
border-width: 15px 15px 15px 0;
border-color: transparent $them-color;
display: block;
width: 0;
z-index: 2;
left: -13px;
top: 10px;
}

.bubble-them:after 
{
content: '';
position: absolute;
border-style: solid;
border-width: 15px 15px 15px 0;
border-color: transparent $them-border;
display: block;
width: 0;
z-index: 1;
left: -15px;
top: 10px;
}


.bubble-you
{
& p {font-size: $bubble-font-size;}
position: relative;
width: 98%;
// min-height: 100px;
padding: rem-calc(10);
background: $you-color;
-webkit-border-radius: 10px;
-moz-border-radius: 10px;
border-radius: 10px;
border: 2px solid $you-border;
}

.bubble-you:before 
{
content: '';
position: absolute;
border-style: solid;
border-width: 15px 0 15px 15px;
border-color: transparent $you-color;
display: block;
width: 0;
z-index: 2;
right: -13px;
top: 10px;
}
.bubble-you:after 
{
content: '';
position: absolute;
border-style: solid;
border-width: 15px 0 15px 15px;
border-color: transparent $you-border;
display: block;
width: 0;
z-index: 1;
right: -15px;
top: 10px;
}
#message-list {
  // max-height: 200px;
  // overflow-y: scroll;
}

#unread-message-badge {
  font-weight: 900;
  font-size: 1.5em;
  color: red !important;
}

#mc-new-contacts, #mc-unread-messages {
  // border: 1px solid red;
  margin: 1em 0em;
  padding-bottom: 1em;
  border: 1px solid $landing-middle-gray;
  #mc-unread-messages-inner, #mc-new-contacts-inner {
    padding: 1em;
  }
}

.conversation-left-info-column, .conversation-right-message-column {

}
.conversation-left-info-column {
  overflow-x: hidden;
  overflow-y: scroll;
}

.conversation-right-message-column {

}


.convo-map {
  background-color: $landing-light-gray;
  height: rem-calc(50);
  position: relative;
  padding: rem-calc(1) 0;
  h1 a {color: $landing-middle-gray !important;}
}


.convo-map.active {
  background-color: $landing-blue;
  h1 a {color: $landing-dark-gray !important;}
}
.convo-map.viewing {
  h1 a {font-weight: 300; border-top: 1px solid $landing-middle-gray; border-bottom: 1px solid $landing-middle-gray;}
  &.active {h1 a {border-bottom: 1px solid $landing-dark-gray;border-top: 1px solid $landing-dark-gray;}}
  &.done {h1 a {border-bottom: 1px solid $landing-light-gray;border-top: 1px solid $landing-light-gray;}}
}
.convo-map.done {
  background-color: $landing-blue;
  h1 a {color: $landing-light-gray !important;}
}
.convo-map.active:not(.end):after {
  content: ' ';
  height: 0;
  position: absolute;
  width: 0;

  border: rem-calc(25) solid transparent;
  border-left-color: $landing-blue;

  top: 0px;
  right: rem-calc(-50);
  z-index: 1;
}

.conversation-header {
  background-color: $landing-middle-gray;
  height: rem-calc(50);
  &.active {
    background-color: $landing-blue;
  }
  position: relative;
}

// CONVERSATIONS INDEX STYLING (UPDATED)

.conversations-container {
  padding: 0;
  margin: 0 rem-calc(20) rem-calc(20) rem-calc(20);
  // background-color: $landing-middle-gray;
}
.conversations-content {
  padding: rem-calc(10);
  // background: white;
  color: $landing-dark-gray;
  h2 {
    color: $landing-dark-gray;
  }
  hr {
     // border: 1px solid $landing-middle-gray;
     border-color: $landing-light-gray;
     margin-top: 0px;
  }
}

.conversation-help,
.conversation-action {
  background: $landing-light-gray;
  border: 1px solid $landing-light-gray;
  border-left: 0px;
  padding: rem-calc(5);
  border-radius: 0 5px 5px 0;
  margin-left: 0;
  margin-right: rem-calc(70);
}
.conversation-help {
  margin-bottom: rem-calc(50);
}
  
.conversation-action {
  border: 1px solid $landing-orange;
  border-left: 0px;
}


// @media #{$small-only} {
//   .conversation-help,
//   .conversation-action {
//     margin-right: rem-calc(70);
//   }
// }

// #conversation-contact-wrapper,
// #conversation-prepare-wrapper,
// #conversation-terms-wrapper,
// #conversation-order-wrapper,
#conversation-map-contact-subhead,
#conversation-map-propose-subhead,
#conversation-map-prepare-subhead,
#conversation-map-order-subhead {
  display: none;
}

#profile-conversation-wrapper {
  overflow-x: hidden;
  overflow-y: hidden;
}
#profile-profile-wrapper {
  overflow-x: hidden;
  overflow-y: scroll;
}

.conversation-block{
  height: 75%;
  overflow-y: scroll;
  h3 {
    color: white;
  }
  & #top {
    height: 75%;
    overflow-y: scroll;
    border-left: 2px solid $landing-light-gray;
    border-top: 2px solid $landing-light-gray;
    border-bottom: 1px solid transparent;
    padding: rem-calc(5);
  }
  & #bottom {
    overflow-y: hidden; 
    padding: rem-calc(10);
    background: $landing-middle-gray;
  }
  & #message-input {
    height: 5em;
    background-color: scale-color($landing-blue, $lightness: 95%);
    border: 1px solid scale-color($landing-blue, $lightness: 65%);
  }  
  & #message-submit {
    height: 5em;
    display: none;
  }
  & #message-cancel {
    display: none;
  }
}

